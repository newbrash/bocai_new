webpackJsonp([45],{dVfA:function(s,t){},uUNS:function(s,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("mvHQ"),e=r.n(a);r("fFo3");console.log("USER_MYSYSTEM_TRANSPSD_VUE");var n={data:function(){return{transPsd:"",transPsd1:"",transPsd2:"",transError:!1,transError1:!1,transError2:!1,oldpsd:this.GLOBAL.userInfo.trading}},watch:{transPsd:function(){this.transPsd&&this.transPsd!=this.GLOBAL.userInfo.trading?this.transError=!0:this.transError=!1},transPsd1:function(){this.transPsd1.length>6||this.transPsd1.length<6?this.transPsd1?this.transError1=!0:this.transError1=!1:new RegExp("[0-9]{6}").test(this.transPsd1)?this.transError1=!1:this.transError1=!0;this.transError2=!1,this.transPsd2=""},transPsd2:function(){this.transPsd2&&(this.transPsd2!=this.transPsd1?this.transError2=!0:this.transError2=!1)}},beforeCreate:function(){document.getElementsByTagName("body")[0].className="bgc-fff"},mounted:function(){this.checkLogin(),this.onmessage(),this.$parent.tabbarShow=!1},beforeDestroy:function(){document.body.removeAttribute("class","bgc-fff")},methods:{transChange:function(){if(console.log(this.oldpsd+":"+this.transPsd1),this.transError)this.$messagebox.alert("原密码错误！");else if(this.transError1)this.$messagebox.alert("新密码格式不正确！");else if(this.transError2)this.$messagebox.alert("两次输入不一致！");else if(this.oldpsd==this.transPsd1)this.$messagebox.alert("新密码不可和原密码相同！");else{var s={type:"changeTrading",send_id:this.GLOBAL.userInfo.id,oldPsd:this.transPsd,newPsd:this.transPsd1,newPsd1:this.transPsd2,con_id:this.GLOBAL.connectionId,signature:""},t=this;this.senddata({data:s,callback:function(r){console.log(r),r.status?(t.GLOBAL.userInfo.trading=s.newPsd,t.$forceUpdate(),console.log(t.GLOBAL.userInfo),localStorage.setItem("bc_userInfo",e()(t.GLOBAL.userInfo)),t.$messagebox.alert("修改成功！").then(function(s){t.$router.push("/mySystem")})):t.$messagebox.alert(r.msg)},handType:"user"})}}}},i={render:function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("div",[r("mt-header",{staticStyle:{background:"#57D6DD"},attrs:{title:"交易密码"}},[r("router-link",{attrs:{slot:"left",to:"/mySystem"},slot:"left"},[r("mt-button",{attrs:{icon:"back"}},[s._v("返回")])],1)],1),s._v(" "),r("div",{staticClass:"pageContent mt10"},[s._m(0),s._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:s.oldpsd,expression:"oldpsd"}],staticClass:"transPsd"},[r("mt-field",{attrs:{label:"原始交易密码",type:"password",placeholder:"请输入交易密码"},model:{value:s.transPsd,callback:function(t){s.transPsd=t},expression:"transPsd"}}),s._v(" "),s.transError?r("div",{staticClass:"transError"},[s._v("*密码错误")]):s._e()],1),s._v(" "),r("div",{staticClass:"transPsd1"},[r("mt-field",{attrs:{label:"设置交易密码",type:"password",placeholder:"请输入交易密码"},model:{value:s.transPsd1,callback:function(t){s.transPsd1=t},expression:"transPsd1"}}),s._v(" "),s.transError1?r("div",{staticClass:"transError"},[s._v("*密码必须为6位数字")]):s._e()],1),s._v(" "),r("div",{staticClass:"transPsd2"},[r("mt-field",{attrs:{label:"确认交易密码",type:"password",placeholder:"请确认交易密码"},model:{value:s.transPsd2,callback:function(t){s.transPsd2=t},expression:"transPsd2"}}),s._v(" "),s.transError2?r("div",{staticClass:"transError"},[s._v("*两次输入的密码不一致")]):s._e()],1),s._v(" "),r("mt-button",{staticClass:"transBtn",attrs:{size:"large"},on:{click:s.transChange}},[s._v("确定修改")]),s._v(" "),s._m(1)],1)],1)},staticRenderFns:[function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"transAttention"},[t("p",[this._v("注意：交易密码必须为6位数的数字")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"transInfo"},[t("p",[this._v("交易密码说明：")]),this._v(" "),t("p",[this._v("交易密码用于好友之间转账和在社区银行里面取金币的时候使用，若遗忘请联系管理员核对资料后修改。")])])}]};var o=r("VU/8")(n,i,!1,function(s){r("dVfA")},"data-v-0e644a76",null);t.default=o.exports}});
//# sourceMappingURL=45.67a48499cf4638c69168.js.map