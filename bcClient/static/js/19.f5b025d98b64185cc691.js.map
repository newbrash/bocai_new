{"version":3,"sources":["webpack:///./src/assets/表情@2x.png","webpack:///src/components/forum/themeDetail.vue","webpack:///./src/components/forum/themeDetail.vue?670e","webpack:///./src/components/forum/themeDetail.vue"],"names":["module","exports","themeDetail","data","tips","themeInfo","host","this","GLOBAL","Host","imgHost","logoHost","commentList","page","order","commentZanList","faces","isFace","addImg","imgType","srchost","imgsrcs","reply_index","reply_user","watch","methods","cancleReply","reply","index","document","getElementById","focus","cancleImg","img","splice","url","$axios","get","params","path","then","response","console","log","addImgToComment","file","event","target","files","type","size","indexOf","$messagebox","alert","form","FormData","append","name","that","post","headers","Content-Type","status","push","src","value","choseFace","item","obj","innerHTML","$nextTick","window","getSelection","range","selectAllChildren","collapseToEnd","selection","_range","createRange","moveToElementText","collapse","select","innerText","length","lastChild","scrollIntoView","zanComment","id","comment_id","con_id","connectionId","send_id","userInfo","senddata","callback","respone","zan","localStorage","setItem","handType","checkZan","sendComment","post_id","content","replace","nickname","imgs","comment","user_id","user_name","addtime","replys","head","keys_default","concat","firstChild","msg","_data","_that","showTime","time","showDate","getComment","$route","query","zone_id","zoneInfo","postInfo","callbackFlag","mounted","$parent","tabbarShow","getItem","checkSocket","onmessage","forum_themeDetail","render","_vm","_h","$createElement","_c","_self","staticStyle","border-bottom","color","background","attrs","title","fixed","slot","to","mytheme","icon","_v","staticClass","alt","_s","domProps","directives","rawName","expression","_l","key","_m","display","align-items","on","click","$event","max-width","i","_e","Object","keys","one","contenteditable","placeholder","__webpack_require__","opacity","margin-left","width","height","border-radius","overfllow","change","border","font-size","text-align","line-height","position","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/19.f5b025d98b64185cc691.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhGRDUyNDA3QTVEMzExRThCNzY5RUUwNUM4ODc4QUYxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjhGRDUyNDA4QTVEMzExRThCNzY5RUUwNUM4ODc4QUYxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OEZENTI0MDVBNUQzMTFFOEI3NjlFRTA1Qzg4NzhBRjEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OEZENTI0MDZBNUQzMTFFOEI3NjlFRTA1Qzg4NzhBRjEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz63VQJIAAAFt0lEQVR42tRaS0xkRRS93TRfm+YrHREIgo1AgMkMDRJ2CiTAQom7+Sa6wOhKoyt/izFGExey0oSFE0ediRs1hk8CBLYIzKgJTKsIJoSQgICBHmk+AbznTRWpftP6qvv1dDMnual+1e9Vnfuq6ta9t57j+PiY7KK/v7+Ii2dYWliqWZ5geZTlEXHLPyx/sfzJ8ivLJMtEb2/vmt2+HbEqwKQLuLjCcoGlEW1F2QQ6vsVyg+U6K7OREAWY+GNcvMnysvKG7WKH5XOWD1mRlQeiABN3cfE6y3ssbvU/p9NJXq+XiouLqaCggHJycigrK4tcLhc5HA46ODignZ0d2traoo2NDVpZWaHV1VU6Ojoyd3OX5SpLHytyEDcFmLyPi29Yzqr1IFtTU0OVlZWUnp4e1Svf29ujhYUFCgQChlIm/MxykZW4Y1sBJv885iiLR9YVFhaS3++nsrKyuMyfpaUlmpqaos3NTfNoXGYlvo9ZASbfy8WnLCm4TklJoaamJqqvrzemRjyB6TQ7O0vT09N0eHgoq/HjVVaiP2oFmPwrgrwBj8dDHR0dxrR5kMAojIyM0Pb2tloNJT7TVoDJP8fFt/LNY8p0dXVRZmYmJQKhUIiGh4dpfX1dHYkXWIkfLBVg8jVcTElLU1RURN3d3ZSWlkaJxP7+Pg0NDdHa2pq6JppZiUCYBTSRT+XipiSPadPZ2Zlw8gD6RN/gIABONwXHyAowXmM5Ixdse3s7ZWRkULKAvsEBXATOiL3ofgVYs2KxSRmAtcHcTzbAobm5Wa16V3C9bwTeklMHlgam8rSgrq5OtX7g+HaYAqwRXvVLshIax9vO2/I4mYtpFF4UnMklKi6xZMohKy0ttdx0JicnaX5+3rj2+XzU0tJi+ES6m1a0z4MTuAnTmik49zkVBQzU1tZaEkDn2DXhz0Dwe2ZmRvuNxvq8idtFYwqJYOSctDwVFRWWDck3pwJOmS5ifR7cFIvUiMWMEXhWBiPYtJJh86PZG8BRLg1EgVDgaVkDf14HmLNmVFdXaxOx87yJo98lYtgT/14HWHDqVAAh7Bu6sPO8ieNTUOBJeYVISgewFq2trYbEAjvPmzj6MIW88ipR3qYdmDh6oUC2ukhOO0wcs530cGMfCgRVH/zUMw7nGIQCq2okdNph4vg3rNAf0hIhb5OXl2fZyPj4eKScjm2Hra2tzfI+cFQ3dZfIVXbiCvmZ8vJyy0aQlAoGg3EPXnRgyiH9hin0o7xCxkwH2dnZcZ8aOiMfgeMtKDBB9xKtRgCts5B1XY5ooNMmuClBPjiPOznKxyK+beQuDg9pcXHRsqGqqipt3193Z0abVgA3Jel1G4lgyeIrWTs3N2fZkNvt1oobdIG2dKalidsNNSaGAiG5SJCrtEJjY6Oa8ogZaANtWQGclAUMrtdPFOChQJx2Tf6LRKuVmUQ22m7OSOZ+rDLb4AJOCq4JzmFZiQ9E9svITyLMs0Jubi719PQYZbSI5llwUTLXdwXX8LSKOBm5Kq+RJVZyk5ZEGhoa1HDvP4F7cK8ueXAAFwXvq6c4LtP9fSznWc5itY+NjRkdWW0ymAoIUkAMhxbLy8vGG5PbPlzg/Px8KikpMQ5DcHqjg93dXYODYnl+YvkkbAePkNxFvIcUgUfGyclI7uJYanBwULX72Pr9/PZ/j5haVKYS4rzLdC+lbTSAhvA2EgX0NTAwoJIHl0tm8hFHQBmJpBxwwFSOjo7aO+BQlHh4j5gUJXq4+IKSc8h3hcl/979uuN1jVrgByJjFcswK3wYZuQjm+heWC3E5ZlWUgBnCCf07JBLBqjMW6aA7NTX1xKJoHnSHxCb1MZPXim9j+dTgcS7egMGi+H5qAFfmIya+HFUkZ+Njj0JhbpElPkexfewBN/5rli+lbxN1KBqnz22QHMPnNsiz4pRTfm7jVhak/NwmIKLACRGL2MK/AgwAhXiZFXDEROQAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/表情@2x.png\n// module id = SaAd\n// module chunks = 13 19","<template>\r\n  <div>\r\n    <mt-header title=\"帖子详情\" style=\"border-bottom:.5vw solid #F2F2F2;color:#999;background:#ffffff;\" fixed>\r\n      <router-link :to=\"this.$route.query.mytheme? {path:'/mytheme'}:{path:'/theme', query:{zone_id: this.$route.query.zone_id}}\" slot=\"left\">\r\n        <mt-button icon=\"back\">返回</mt-button>\r\n      </router-link>\r\n    </mt-header>\r\n    <section class=\"theme-info-box\">\r\n      <div class=\"user-info\">\r\n        <div class=\"user-head\">\r\n          <img :src=\"host + themeDetail.head\" alt=\"\">\r\n        </div>\r\n        <div class=\"user-name-box\">\r\n          <div class=\"user-name\">{{themeDetail.user_name}}</div>\r\n          <div class=\"theme-time\">{{showTime(themeDetail.addtime)}}</div>\r\n        </div>\r\n        <div class=\"zone-img\">\r\n          <img :src=\"host + themeInfo.img\" alt=\"\">\r\n        </div>\r\n      </div>\r\n      <div class=\"theme-info\">\r\n        <div class=\"theme-title\">{{themeDetail.title}}</div>\r\n        <div class=\"theme-content\" v-html=\"themeDetail.content\"></div>\r\n        <div class=\"theme-imgs\" v-show=\"themeDetail.imgs\">\r\n          <img v-for=\"(item, index) in themeDetail.imgs\" :key=\"index\" :src=\"imgHost + item\" alt=\"\">\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <div class=\"box-border\"></div>\r\n    <section class=\"comment-reply-box\">\r\n      <h3>查看全部评论<img src=\"static/右箭头.png\" alt=\"\" /></h3>\r\n      <ul id=\"comment-parent-box\">\r\n        <li class=\"one-comment-box\" v-for=\"(item,index) in commentList\" :key=\"index\">\r\n          <div class=\"commentor-info\">\r\n            <div style=\"display:flex;align-items:center;\">\r\n              <div class=\"commentor-head\">\r\n                <img :src=\"host + item.head\" alt=\"\">\r\n              </div>\r\n              <div class=\"commentor-name-box\">\r\n                <div class=\"commentor-name\">{{item.user_name}}</div>\r\n                <div class=\"comment-time\">{{item.addtime}}</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"comment-zan\">\r\n              <img :src=\"checkZan(item, index)\" alt=\"点赞\" @click=\"zanComment(item,index)\">\r\n              <span>{{item.zan}}</span>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div class=\"comment-content\"><span v-html=\"item.content\" style=\"max-width:90%;\"></span> <span class=\"reply-btn\" @click=\"reply(item.user_name, index)\">回复</span></div>\r\n            <div v-if=\"item.imgs\" class=\"comment-imgs\">\r\n              <img v-for=\"(img, i) in item.imgs\" :key='i' :src=\"srchost+img\" alt=\"\">\r\n            </div>\r\n            <div v-if=\"Object.keys(item.replys).length\" class=\"comment-replys\">\r\n              <div v-for=\"(one, i) in item.replys\" :key=\"i\" class=\"one-comment-reply\">\r\n                <span><span class=\"reply-object\" @click=\"reply(one.user_name, index)\">“{{one.user_name}}”</span>回复<span class=\"reply-object\" @click=\"reply(one.reply_user, index)\">“{{one.reply_user}}”</span>：</span>\r\n                <span v-html=\"one.content\"></span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n      <div class=\"talk-about-your-advice-box\">\r\n        <div class=\"talk-about-your-advice\">\r\n          <div class=\"talk-about-content\">\r\n            <div class=\"send-content-box\">\r\n              <div class=\"input-box\" contenteditable=\"true\" :placeholder=\"tips\" type=\"text\" id=\"comment-content\"></div>\r\n            </div>\r\n            <button @click=\"sendComment\">发送</button>\r\n          </div>\r\n          <div class=\"talk-other-box\">\r\n            <img @click=\"isFace=true\" src=\"./../../assets/表情@2x.png\" alt=\"\">\r\n            <img v-if=\"reply_index<0\" @click=\"addImg=true\" src=\"static/截图.png\" alt=\"\">\r\n            <input v-if=\"reply_index<0\" @change=\"addImgToComment\" type=\"file\" id=\"addImg\" style=\"opacity:0;margin-left:-6vw;width:6vw;height:6vw;border-radius:6vw;overfllow:hidden;\">\r\n            <button v-if=\"reply_index>=0\" @click=\"cancleReply\" style=\"border:.5vw solid #ccc;font-size:4vw;margin-left:2vw;color:#666;\">取消</button>\r\n          </div>\r\n        </div>\r\n        <transition class=\"faces-box\" name=\"facesBao\">\r\n          <ul v-show=\"isFace\" class=\"faces-box\">\r\n            <div style=\"display:block;width:100%;text-align:left;\">\r\n              <span style=\"display:inline-block;width:4vw;height:4vw;background:red;border-radius:4vw;font-size:4vw;text-align:center;line-height:4vw;color:white;\" @click=\"isFace=false\">x</span>\r\n            </div>\r\n            <li v-for=\"(item, index) in faces\" :key=\"index\">\r\n              <img :src=\"item\" alt=\"\" @click=\"choseFace(item)\">\r\n            </li>\r\n          </ul>\r\n        </transition>\r\n        <div v-if=\"Object.keys(imgsrcs).length\" class=\"upload-img\">\r\n          <div style=\"position:relative;\" v-for=\"(img, index) in imgsrcs\" :key=\"index\">\r\n            <span @click=\"cancleImg(img, index)\">x</span>\r\n            <img :src=\"srchost+img\" alt=\"\">\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n<script>\r\n// import radioText from \"@/components/common/radioText\";\r\nexport default {\r\n  // components: {\r\n  //   radioText\r\n  // },\r\n  data() {\r\n    return {\r\n      tips: \"谈谈您的看法\",\r\n      themeDetail: {},\r\n      themeInfo: {},\r\n      host: this.GLOBAL.Host,\r\n      imgHost: this.GLOBAL.logoHost + \"themeImgs/\",\r\n      commentList: {},\r\n      page: 0,\r\n      order: \"desc\",\r\n      // content: \"\",\r\n      commentZanList: \"\",\r\n      faces: [\r\n        \"static/faces/分类.svg\",\r\n        \"static/faces/发呆.svg\",\r\n        \"static/faces/可爱.svg\",\r\n        \"static/faces/失败.svg\",\r\n        \"static/faces/大笑.svg\",\r\n        \"static/faces/板脸.svg\",\r\n        \"static/faces/白眼.svg\",\r\n        \"static/faces/笑口常开.svg\",\r\n        \"static/faces/等待.svg\",\r\n        \"static/faces/衰.svg\",\r\n        \"static/faces/调皮.svg\",\r\n        \"static/faces/难过.svg\",\r\n        \"static/faces/面无表情.svg\",\r\n        \"static/faces/鬼脸.svg\"\r\n      ],\r\n      isFace: false,\r\n      addImg: false,\r\n      imgType: \"image/gif, image/jpeg, image/jpg, image/png\",\r\n      srchost: this.GLOBAL.logoHost + \"commentImgs/\",\r\n      imgsrcs: [],\r\n      reply_index: -1,\r\n      reply_user: \"\"\r\n    };\r\n  },\r\n  watch: {},\r\n  methods: {\r\n    cancleReply() {\r\n      this.reply_index = -1;\r\n      this.tips = \"谈谈您的看法\";\r\n      this.reply_user = \"\";\r\n    },\r\n    reply(reply_user, index) {\r\n      this.tips = \"回复@\" + reply_user;\r\n      this.reply_index = index;\r\n      this.reply_user = reply_user;\r\n      document.getElementById(\"comment-content\").focus();\r\n    },\r\n    cancleImg(img, index) {\r\n      this.imgsrcs.splice(index, 1);\r\n      var url = this.GLOBAL.Host + \"/bcweb/index.php/Home/Uploads/unlinkFile\";\r\n      let that = this;\r\n      this.$axios\r\n        .get(url, {\r\n          params: {\r\n            path: \"/bcweb/public/commentImgs/\" + img\r\n          }\r\n        })\r\n        .then(response => {\r\n          console.log(\"++++++++++++++++respone++++++++++++++\");\r\n          console.log(response.data);\r\n          console.log(\"++++++++++++++respone++++++++++++++++\");\r\n        });\r\n    },\r\n    addImgToComment() {\r\n      let file = event.target.files[0];\r\n      let type = file.type;\r\n      let size = file.size;\r\n      if (this.imgType.indexOf(type) == -1) {\r\n        this.$messagebox.alert(\"请选择gif|jpeg|jpg|png格式的图片！\");\r\n        return false;\r\n      }\r\n      if (size > 3145728) {\r\n        this.$messagebox.alert(\"请选择3M以内的图片！\");\r\n        return false;\r\n      }\r\n      var url =\r\n        this.GLOBAL.Host + \"/bcweb/index.php/Home/Uploads/uploadCommentImg\";\r\n      let form = new FormData();\r\n      form.append(\"file\", file, file.name);\r\n      // form.append(\"uid\", this.GLOBAL.userInfo.id);\r\n      let that = this;\r\n      this.$axios\r\n        .post(url, form, {\r\n          headers: { \"Content-Type\": \"multipart/form-data\" }\r\n        })\r\n        .then(response => {\r\n          console.log(\"++++++++++++++++respone++++++++++++++\");\r\n          console.log(response.data);\r\n          console.log(\"++++++++++++++respone++++++++++++++++\");\r\n          console.log(response);\r\n          console.log(\"+++++++++++++++respone+++++++++++++++\");\r\n          if (response.status) {\r\n            that.imgsrcs.push(response.data.src);\r\n            document.getElementById(\"addImg\").value = \"\";\r\n          } else {\r\n            that.$messagebox.alert(\"上传失败！\");\r\n          }\r\n        });\r\n      console.log();\r\n    },\r\n    // commentContent(){\r\n    // },\r\n    choseFace(item) {\r\n      let obj = document.getElementById(\"comment-content\");\r\n      obj.innerHTML +=\r\n        '<img style=\"width:5vw;height:5vw;display:inline;\" src=\"' +\r\n        item +\r\n        '\" />';\r\n      this.isFace = false;\r\n      this.$nextTick(function() {\r\n        console.log(obj);\r\n        console.log(window.getSelection);\r\n        console.log(document.getSelection);\r\n        if (window.getSelection) {\r\n          obj.focus(); //解决ff不获取焦点无法定位问题\r\n          let range = window.getSelection(); //创建range\r\n          range.selectAllChildren(obj); //range 选择obj下所有子内容\r\n          range.collapseToEnd(); //光标移至最后\r\n        } else if (document.selection) {\r\n          let range = document.selection.createRange(); //创建选择对象\r\n          range.moveToElementText(obj); //range定位到obj\r\n          range.collapse(false); //光标移至最后\r\n          range.select();\r\n        } else {\r\n          this.$messagebox.alert(\"当前设备不支持光标重定位，请手动点击\");\r\n        }\r\n        console.log(obj.innerText.length);\r\n        if (obj.lastChild) {\r\n          obj.lastChild.scrollIntoView();\r\n        }\r\n      });\r\n    },\r\n    zanComment(item, index) {\r\n      if (\r\n        this.commentZanList &&\r\n        this.commentZanList.indexOf(item.id + \",\") != -1\r\n      ) {\r\n        this.$messagebox.alert(\"您已经点过赞了！\");\r\n        return false;\r\n      }\r\n      let data = {\r\n        type: \"zanComment\",\r\n        comment_id: item.id,\r\n        con_id: this.GLOBAL.connectionId,\r\n        send_id: this.GLOBAL.userInfo.id\r\n      };\r\n      let that = this;\r\n      this.senddata({\r\n        data: data,\r\n        callback: function(respone) {\r\n          console.log(\"responeZanComment\");\r\n          console.log(respone);\r\n          console.log(\"responeZanComment\");\r\n          if (respone.status) {\r\n            item.zan++;\r\n            that.commentZanList += item.id + \",\";\r\n            localStorage.setItem(\"bc_comment_zans\", that.commentZanList);\r\n          } else {\r\n            that.$messagebox.alert(\"点赞失败！\");\r\n          }\r\n        },\r\n        handType: \"user\"\r\n      });\r\n    },\r\n    /**\r\n     * 检测是否已经点过赞\r\n     */\r\n    checkZan(item, index) {\r\n      if (this.commentZanList) {\r\n        if (this.commentZanList.indexOf(item.id + \",\") != -1) {\r\n          return \"static/点赞.png\";\r\n        } else {\r\n          return \"static/赞.png\";\r\n        }\r\n      } else {\r\n        return \"static/赞.png\";\r\n      }\r\n    },\r\n    /**\r\n     * 发表看法\r\n     */\r\n    sendComment() {\r\n      // 获取评论内容对象\r\n      let obj = document.getElementById(\"comment-content\");\r\n      if (!obj.innerHTML) {\r\n        this.$messagebox.alert(\"请输入你的评论！\");\r\n        return false;\r\n      }\r\n      console.log(obj.innerHTML);\r\n      if (this.reply_index < 0) {\r\n        // 发送内容\r\n        let data = {\r\n          type: \"themeComment\",\r\n          post_id: this.themeDetail.id,\r\n          content: obj.innerHTML.replace(/\"/g, \"\"), //去除评论内容的双引号\r\n          send_id: this.GLOBAL.userInfo.id,\r\n          nickname: this.GLOBAL.userInfo.nickname,\r\n          con_id: this.GLOBAL.connectionId,\r\n          imgs: this.imgsrcs\r\n        };\r\n        let that = this;\r\n        this.senddata({\r\n          data: data,\r\n          callback: function(respone) {\r\n            if (respone.status) {\r\n              let comment = [\r\n                {\r\n                  id: respone.id,\r\n                  user_id: data.send_id,\r\n                  user_name: data.nickname,\r\n                  post_id: data.post_id,\r\n                  content: data.content,\r\n                  addtime: respone.addtime,\r\n                  replys: [],\r\n                  head: that.GLOBAL.userInfo.head,\r\n                  zan: 0,\r\n                  imgs: data.imgs\r\n                }\r\n              ];\r\n              that.imgsrcs = [];\r\n              if (Object.keys(that.commentList).length) {\r\n                that.commentList = comment.concat(that.commentList);\r\n              } else {\r\n                that.commentList = comment;\r\n              }\r\n              // that.content = \"\";\r\n              obj.innerHTML = \"\";\r\n              console.log(that.commentList);\r\n              that.$nextTick(function() {\r\n                document\r\n                  .getElementById(\"comment-parent-box\")\r\n                  .firstChild.scrollIntoView();\r\n              });\r\n            } else {\r\n              that.$messagebox.alert(respone.msg);\r\n            }\r\n          },\r\n          handType: \"user\"\r\n        });\r\n      } else {\r\n        let data = {\r\n          user_id: this.GLOBAL.userInfo.id,\r\n          user_name: this.GLOBAL.userInfo.nickname,\r\n          comment_id: this.commentList[this.reply_index].id,\r\n          content: obj.innerHTML.replace(/\"/g, \"\"), //去除评论内容的双引号\r\n          reply_user: this.reply_user,\r\n          type: \"ReplyComment\",\r\n          con_id: this.GLOBAL.connectionId\r\n        };\r\n        let that = this;\r\n        this.senddata({\r\n          data: data,\r\n          callback: function(respone) {\r\n            console.log(respone);\r\n            if (respone.status) {\r\n              let reply = {\r\n                id: respone.id,\r\n                user_id: data.user_id,\r\n                user_name: data.user_name,\r\n                comment_id: data.comment_id,\r\n                content: data.content,\r\n                reply_user: data.reply_user,\r\n                addtime: respone.addtime\r\n              };\r\n              that.commentList[that.reply_index].replys.push(reply);\r\n            } else {\r\n              if (respone.msg) {\r\n                that.$messagebox.alert(respone.msg);\r\n              } else {\r\n                that.$messagebox.alert(\"请检查网络是否正常！\");\r\n              }\r\n            }\r\n            that.reply_index = -1;\r\n            that.tips = \"谈谈您的看法\";\r\n            that.reply_user = \"\";\r\n            obj.innerHTML = \"\";\r\n          },\r\n          handType: \"user\"\r\n        });\r\n      }\r\n    },\r\n    /**\r\n     * 显示时间\r\n     */\r\n    showTime(time) {\r\n      return this.showDate(false, time);\r\n    },\r\n    /**\r\n     * 获取评论\r\n     */\r\n    getComment() {\r\n      let data = {\r\n        type: \"getComment\",\r\n        post_id: this.$route.query.post_id,\r\n        zone_id: this.$route.query.zone_id,\r\n        page: this.page,\r\n        order: this.order,\r\n        // gold: this.themeInfo.gold,\r\n        send_id: this.GLOBAL.userInfo.id,\r\n        con_id: this.GLOBAL.connectionId\r\n      };\r\n      let that = this;\r\n      this.senddata({\r\n        data: data,\r\n        callback: function(respone) {\r\n          that.commentList = respone.commentList;\r\n          if (respone.zoneInfo) {\r\n            that.themeInfo = respone.zoneInfo;\r\n          }\r\n          if (respone.postInfo) {\r\n            that.themeDetail = respone.postInfo;\r\n          }\r\n        },\r\n        callbackFlag: \"resopneGetComment\",\r\n        handType: \"user\"\r\n      });\r\n    }\r\n  },\r\n\r\n  mounted: function() {\r\n    this.$parent.tabbarShow = false;\r\n    if (localStorage.getItem(\"bc_comment_zans\")) {\r\n      this.commentZanList = localStorage.getItem(\"bc_comment_zans\");\r\n    }\r\n    let that = this;\r\n    this.checkSocket(function() {\r\n      that.getComment();\r\n    });\r\n    this.onmessage();\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.one-comment-box {\r\n  padding: 3vw 0px;\r\n  border-bottom: 0.4vw solid #e9e9e9;\r\n}\r\n.box-border {\r\n  height: 3vw;\r\n  background: #e7e7e7;\r\n  width: 100vw;\r\n}\r\n.theme-info-box {\r\n  /* margin-top: 10vw; */\r\n  width: 95vw;\r\n  margin: 10vw auto 0px;\r\n}\r\n.user-info {\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  justify-items: flex-start;\r\n  align-items: center;\r\n  align-items: center;\r\n}\r\n.user-info .user-head {\r\n  width: 12vw;\r\n  height: 12vw;\r\n  border-radius: 12vw;\r\n  /* border: 1px solid red; */\r\n  background: yellow;\r\n  display: flex;\r\n  justify-content: center;\r\n  justify-items: center;\r\n  align-content: center;\r\n  align-items: center;\r\n}\r\n.user-info .user-head img {\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n}\r\n.user-info .user-name-box {\r\n  text-align: left;\r\n  margin-left: 1vw;\r\n}\r\n.user-name-box .user-name {\r\n  font-size: 4vw;\r\n}\r\n.user-name-box .theme-time {\r\n  font-size: 3vw;\r\n}\r\n.user-info .zone-img {\r\n  width: 7vw;\r\n  height: 7vw;\r\n  display: flex;\r\n  justify-content: center;\r\n  justify-items: center;\r\n  align-content: center;\r\n  align-items: center;\r\n  /* border: 1px solid red; */\r\n  margin-left: 1vw;\r\n}\r\n.user-info .zone-img img {\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n}\r\n.theme-info {\r\n  margin-bottom: 2vw;\r\n}\r\n.theme-title {\r\n  font-size: 4.5vw;\r\n  text-align: left;\r\n  font-weight: 600;\r\n  line-height: 10vw;\r\n}\r\n.theme-content {\r\n  font-size: 4vw;\r\n  text-align: left;\r\n  line-height: 6vw;\r\n}\r\n.theme-imgs {\r\n  padding: 1vw 0;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin-left: -3.33%;\r\n  /* justify-content: stretch; */\r\n  /* justify-content: start; */\r\n}\r\n.theme-imgs img {\r\n  display: block;\r\n  width: 30%;\r\n  max-height: 30vw;\r\n  margin-top: 1vw;\r\n  margin-left: 3.33%;\r\n}\r\n.comment-reply-box {\r\n  width: 95vw;\r\n  margin: 0px auto 20vw;\r\n}\r\n.comment-reply-box h3 {\r\n  font-size: 4vw;\r\n  font-weight: 600;\r\n  text-align: left;\r\n  height: 10vw;\r\n  line-height: 10vw;\r\n  /* background: red; */\r\n  display: flex;\r\n  align-content: center;\r\n  align-items: center;\r\n}\r\n.comment-reply-box h3 img {\r\n  width: 5vw;\r\n  height: 5vw;\r\n  transform: rotate(90deg);\r\n  -moz-transform: rotate(90deg);\r\n  -ms-transform: rotate(90deg);\r\n  -o-transform: rotate(90deg);\r\n  -webkit-transform: rotate(90deg);\r\n}\r\n.commentor-info {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.commentor-info .commentor-head {\r\n  display: flex;\r\n  justify-content: center;\r\n  justify-items: center;\r\n  align-content: center;\r\n  align-items: center;\r\n  width: 12vw;\r\n  height: 12vw;\r\n}\r\n.commentor-head img {\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n}\r\n.commentor-name-box {\r\n  margin-left: 1vw;\r\n  font-size: 4vw;\r\n}\r\n.commentor-name-box .commentor-name {\r\n  text-align: left;\r\n}\r\n.commentor-name-box .comment-time {\r\n  text-align: left;\r\n  font-size: 3vw;\r\n  color: #999;\r\n}\r\n.comment-zan {\r\n  display: flex;\r\n  justify-content: center;\r\n  justify-items: center;\r\n  align-content: center;\r\n  align-items: center;\r\n}\r\n.comment-zan img {\r\n  width: 6vw;\r\n  height: 6vw;\r\n}\r\n.comment-zan span {\r\n  font-size: 4vw;\r\n}\r\n.comment-content {\r\n  margin-top: 1.5vw;\r\n  text-align: left;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-size: 4vw;\r\n}\r\n.comment-content .reply-btn {\r\n  font-size: 3.5vw;\r\n  color: #999;\r\n}\r\n.comment-replys {\r\n  margin-top: 1.5vw;\r\n  width: 100%;\r\n  background: #e7e7e7;\r\n  box-sizing: border-box;\r\n  padding: 2vw;\r\n  text-align: left;\r\n  font-size: 4vw;\r\n}\r\n/* .comment-replys .one-comment-reply {\r\n} */\r\n.reply-object {\r\n  color: #16b1ba;\r\n}\r\n.talk-about-your-advice-box {\r\n  position: fixed;\r\n  top: 100vh;\r\n}\r\n.talk-about-your-advice {\r\n  position: absolute;\r\n  top: -20vw;\r\n  height: 20vw;\r\n  background: white;\r\n  width: 100vw;\r\n  border-top: 0.4vw solid #e9e9e9;\r\n}\r\n.talk-about-content,\r\n.talk-other-box {\r\n  height: 10vw;\r\n  /* background: yellow; */\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  border-bottom: 0.4vw solid #e9e9e9;\r\n}\r\n.talk-about-content .send-content-box {\r\n  width: 80%;\r\n}\r\n.send-content-box .input-box {\r\n  width: 93%;\r\n  height: 10vw;\r\n  line-height: 10vw;\r\n  border: 0px;\r\n  text-align: left;\r\n  padding: 0px 2vw;\r\n  font-size: 4vw;\r\n  outline: none;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  justify-items: flex-start;\r\n  align-content: center;\r\n  align-items: center;\r\n  overflow-x: auto;\r\n  /* line-height: 5vw; */\r\n  white-space: nowrap;\r\n}\r\n.talk-about-content button {\r\n  width: 13%;\r\n  height: 7vw;\r\n  border: 0px;\r\n  background: white;\r\n  border-left: 0.5vw solid #bbbbbb;\r\n  color: #666;\r\n  font-weight: 600;\r\n  font-size: 4vw;\r\n  outline: none;\r\n}\r\n\r\n.talk-other-box img {\r\n  width: 6vw;\r\n  margin-left: 4vw;\r\n}\r\n.faces-box {\r\n  border-top: 0.5vw solid #e7e7e7;\r\n  width: 100vw;\r\n  padding: 1.5vw;\r\n  background: white;\r\n  position: absolute;\r\n  bottom: 0px;\r\n  left: -2.5vw;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: flex-start;\r\n  justify-items: auto;\r\n}\r\n.faces-box li {\r\n  width: 7vw;\r\n  height: 7vw;\r\n  margin-left: 1.5vw;\r\n  margin-top: 1.5vw;\r\n  display: flex;\r\n  justify-content: center;\r\n  justify-items: center;\r\n  align-items: center;\r\n  align-content: center;\r\n}\r\n.faces-box li img {\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n}\r\n.facesBao-enter-active {\r\n  bottom: 0px;\r\n}\r\n.facesBao-leave-active {\r\n  bottom: 0px;\r\n}\r\n.facesBao-enter,\r\n.facesBao-leave-to {\r\n  top: 0px;\r\n}\r\n.comment-imgs {\r\n  padding: 1vw 0px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin-left: -3.33%;\r\n}\r\n.comment-imgs img {\r\n  display: block;\r\n  max-width: 30%;\r\n  max-height: 30vw;\r\n  margin-top: 1vw;\r\n  margin-left: 3.33%;\r\n}\r\n.upload-img {\r\n  display: flex;\r\n  position: fixed;\r\n  flex-wrap: wrap;\r\n  bottom: 20vw;\r\n  left: 0px;\r\n  background: #eeeeb3;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  padding: 2vw;\r\n}\r\n.upload-img img {\r\n  max-width: 20vw;\r\n  max-height: 20vw;\r\n}\r\n.upload-img span {\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 0px;\r\n  display: inline-block;\r\n  width: 5vw;\r\n  height: 5vw;\r\n  background: red;\r\n  font-size: 5vw;\r\n  line-height: 4.5vw;\r\n  text-align: cne;\r\n  text-align: center;\r\n  border-radius: 5vw;\r\n  color: white;\r\n}\r\n#comment-content:empty:before {\r\n  content: attr(placeholder);\r\n  color: #999;\r\n}\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/forum/themeDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('mt-header',{staticStyle:{\"border-bottom\":\".5vw solid #F2F2F2\",\"color\":\"#999\",\"background\":\"#ffffff\"},attrs:{\"title\":\"帖子详情\",\"fixed\":\"\"}},[_c('router-link',{attrs:{\"slot\":\"left\",\"to\":this.$route.query.mytheme? {path:'/mytheme'}:{path:'/theme', query:{zone_id: this.$route.query.zone_id}}},slot:\"left\"},[_c('mt-button',{attrs:{\"icon\":\"back\"}},[_vm._v(\"返回\")])],1)],1),_vm._v(\" \"),_c('section',{staticClass:\"theme-info-box\"},[_c('div',{staticClass:\"user-info\"},[_c('div',{staticClass:\"user-head\"},[_c('img',{attrs:{\"src\":_vm.host + _vm.themeDetail.head,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"user-name-box\"},[_c('div',{staticClass:\"user-name\"},[_vm._v(_vm._s(_vm.themeDetail.user_name))]),_vm._v(\" \"),_c('div',{staticClass:\"theme-time\"},[_vm._v(_vm._s(_vm.showTime(_vm.themeDetail.addtime)))])]),_vm._v(\" \"),_c('div',{staticClass:\"zone-img\"},[_c('img',{attrs:{\"src\":_vm.host + _vm.themeInfo.img,\"alt\":\"\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"theme-info\"},[_c('div',{staticClass:\"theme-title\"},[_vm._v(_vm._s(_vm.themeDetail.title))]),_vm._v(\" \"),_c('div',{staticClass:\"theme-content\",domProps:{\"innerHTML\":_vm._s(_vm.themeDetail.content)}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.themeDetail.imgs),expression:\"themeDetail.imgs\"}],staticClass:\"theme-imgs\"},_vm._l((_vm.themeDetail.imgs),function(item,index){return _c('img',{key:index,attrs:{\"src\":_vm.imgHost + item,\"alt\":\"\"}})}))])]),_vm._v(\" \"),_c('div',{staticClass:\"box-border\"}),_vm._v(\" \"),_c('section',{staticClass:\"comment-reply-box\"},[_vm._m(0),_vm._v(\" \"),_c('ul',{attrs:{\"id\":\"comment-parent-box\"}},_vm._l((_vm.commentList),function(item,index){return _c('li',{key:index,staticClass:\"one-comment-box\"},[_c('div',{staticClass:\"commentor-info\"},[_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('div',{staticClass:\"commentor-head\"},[_c('img',{attrs:{\"src\":_vm.host + item.head,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"commentor-name-box\"},[_c('div',{staticClass:\"commentor-name\"},[_vm._v(_vm._s(item.user_name))]),_vm._v(\" \"),_c('div',{staticClass:\"comment-time\"},[_vm._v(_vm._s(item.addtime))])])]),_vm._v(\" \"),_c('div',{staticClass:\"comment-zan\"},[_c('img',{attrs:{\"src\":_vm.checkZan(item, index),\"alt\":\"点赞\"},on:{\"click\":function($event){_vm.zanComment(item,index)}}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.zan))])])]),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"comment-content\"},[_c('span',{staticStyle:{\"max-width\":\"90%\"},domProps:{\"innerHTML\":_vm._s(item.content)}}),_vm._v(\" \"),_c('span',{staticClass:\"reply-btn\",on:{\"click\":function($event){_vm.reply(item.user_name, index)}}},[_vm._v(\"回复\")])]),_vm._v(\" \"),(item.imgs)?_c('div',{staticClass:\"comment-imgs\"},_vm._l((item.imgs),function(img,i){return _c('img',{key:i,attrs:{\"src\":_vm.srchost+img,\"alt\":\"\"}})})):_vm._e(),_vm._v(\" \"),(Object.keys(item.replys).length)?_c('div',{staticClass:\"comment-replys\"},_vm._l((item.replys),function(one,i){return _c('div',{key:i,staticClass:\"one-comment-reply\"},[_c('span',[_c('span',{staticClass:\"reply-object\",on:{\"click\":function($event){_vm.reply(one.user_name, index)}}},[_vm._v(\"“\"+_vm._s(one.user_name)+\"”\")]),_vm._v(\"回复\"),_c('span',{staticClass:\"reply-object\",on:{\"click\":function($event){_vm.reply(one.reply_user, index)}}},[_vm._v(\"“\"+_vm._s(one.reply_user)+\"”\")]),_vm._v(\"：\")]),_vm._v(\" \"),_c('span',{domProps:{\"innerHTML\":_vm._s(one.content)}})])})):_vm._e()])])})),_vm._v(\" \"),_c('div',{staticClass:\"talk-about-your-advice-box\"},[_c('div',{staticClass:\"talk-about-your-advice\"},[_c('div',{staticClass:\"talk-about-content\"},[_c('div',{staticClass:\"send-content-box\"},[_c('div',{staticClass:\"input-box\",attrs:{\"contenteditable\":\"true\",\"placeholder\":_vm.tips,\"type\":\"text\",\"id\":\"comment-content\"}})]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.sendComment}},[_vm._v(\"发送\")])]),_vm._v(\" \"),_c('div',{staticClass:\"talk-other-box\"},[_c('img',{attrs:{\"src\":require(\"./../../assets/表情@2x.png\"),\"alt\":\"\"},on:{\"click\":function($event){_vm.isFace=true}}}),_vm._v(\" \"),(_vm.reply_index<0)?_c('img',{attrs:{\"src\":\"static/截图.png\",\"alt\":\"\"},on:{\"click\":function($event){_vm.addImg=true}}}):_vm._e(),_vm._v(\" \"),(_vm.reply_index<0)?_c('input',{staticStyle:{\"opacity\":\"0\",\"margin-left\":\"-6vw\",\"width\":\"6vw\",\"height\":\"6vw\",\"border-radius\":\"6vw\",\"overfllow\":\"hidden\"},attrs:{\"type\":\"file\",\"id\":\"addImg\"},on:{\"change\":_vm.addImgToComment}}):_vm._e(),_vm._v(\" \"),(_vm.reply_index>=0)?_c('button',{staticStyle:{\"border\":\".5vw solid #ccc\",\"font-size\":\"4vw\",\"margin-left\":\"2vw\",\"color\":\"#666\"},on:{\"click\":_vm.cancleReply}},[_vm._v(\"取消\")]):_vm._e()])]),_vm._v(\" \"),_c('transition',{staticClass:\"faces-box\",attrs:{\"name\":\"facesBao\"}},[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isFace),expression:\"isFace\"}],staticClass:\"faces-box\"},[_c('div',{staticStyle:{\"display\":\"block\",\"width\":\"100%\",\"text-align\":\"left\"}},[_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"4vw\",\"height\":\"4vw\",\"background\":\"red\",\"border-radius\":\"4vw\",\"font-size\":\"4vw\",\"text-align\":\"center\",\"line-height\":\"4vw\",\"color\":\"white\"},on:{\"click\":function($event){_vm.isFace=false}}},[_vm._v(\"x\")])]),_vm._v(\" \"),_vm._l((_vm.faces),function(item,index){return _c('li',{key:index},[_c('img',{attrs:{\"src\":item,\"alt\":\"\"},on:{\"click\":function($event){_vm.choseFace(item)}}})])})],2)]),_vm._v(\" \"),(Object.keys(_vm.imgsrcs).length)?_c('div',{staticClass:\"upload-img\"},_vm._l((_vm.imgsrcs),function(img,index){return _c('div',{key:index,staticStyle:{\"position\":\"relative\"}},[_c('span',{on:{\"click\":function($event){_vm.cancleImg(img, index)}}},[_vm._v(\"x\")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":_vm.srchost+img,\"alt\":\"\"}})])})):_vm._e()],1)])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',[_vm._v(\"查看全部评论\"),_c('img',{attrs:{\"src\":\"static/右箭头.png\",\"alt\":\"\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-199e5216\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/forum/themeDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-199e5216\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./themeDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./themeDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./themeDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-199e5216\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./themeDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/forum/themeDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}