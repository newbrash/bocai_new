{"version":3,"sources":["webpack:///src/components/user/mySystem/personal.vue","webpack:///./src/components/user/mySystem/personal.vue?bad4","webpack:///./src/components/user/mySystem/personal.vue"],"names":["console","log","personal","data","disableClear","nickname","this","GLOBAL","userInfo","signature","originalPsd","newPsd1","newPsd2","oriActive","newActive","imgData","accept","watch","methods","psdVerify","password","type","send_id","id","con_id","connectionId","that","senddata","callback","response","status","$messagebox","alert","localStorage","setItem","stringify_default","msg","handType","previewPic","event","img1","target","files","size","indexOf","url","Host","form","FormData","append","name","$axios","post","headers","Content-Type","then","head","$forceUpdate","changeUsername","newname","changeSign","newsignature","signatureStr","beforeCreate","mounted","checkLogin","onmessage","$parent","tabbarShow","tabbarWhic","beforeDestroy","mySystem_personal","render","_vm","_h","$createElement","_c","_self","staticStyle","background","attrs","title","slot","to","icon","_v","staticClass","src","opacity","position","top","left","width","height","on","change","directives","rawName","value","expression","placeholder","domProps","input","$event","composing","click","autocomplete","model","$$v","class","psdErrorActive","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/41.49ea7dcbb6ffcd2f55fd.js","sourcesContent":["<template>\r\n  <div>\r\n    <mt-header title=\"个人资料\" style=\"background:#57D6DD;\">\r\n      <router-link to=\"/mySystem\" slot=\"left\">\r\n        <mt-button icon=\"back\">返回</mt-button>\r\n      </router-link>\r\n    </mt-header>\r\n    <div class=\"pageContent personal\">\r\n      <div class=\"purikura\">\r\n        <div class=\"purimg\">\r\n          <img id=\"purpic\" :src=\"this.GLOBAL.Host + this.GLOBAL.userInfo.head\">\r\n        </div>\r\n        <div class=\"uppurBtn\">\r\n          <input id=\"uppic\" type=\"file\" @change=\"previewPic\" style=\"opacity: 0; position: absolute; top: 0; left: 0; width: 100%; height: 100%\">\r\n          <i class=\"iconfont icon-weibiaoti1\"></i>\r\n        </div>\r\n      </div>\r\n      <div class=\"userId\">\r\n        <!-- <mt-field label=\"用户ID：\" disabled v-model=\"this.$store.state.songInfo.user.id\" :disableClear=\"disableClear\"></mt-field> -->\r\n      </div>\r\n      <div class=\"userName\">\r\n        <div class=\"username-box\">\r\n          <span>昵称：</span>\r\n          <input type=\"text\" v-model=\"nickname\" placeholder=\"昵称\">\r\n          <i class=\"iconfont icon-xiugaiziliao\" @click=\"changeUsername\"></i>\r\n        </div>\r\n      </div>\r\n      <div class=\"userName\">\r\n        <div class=\"username-box\">\r\n          <span>签名：</span>\r\n          <input type=\"text\" v-model=\"signature\" placeholder=\"写点什么吧...\">\r\n          <i class=\"iconfont icon-xiugaiziliao\" @click=\"changeSign\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"interval\"></div>\r\n    <div class=\"pageContent\">\r\n      <div class=\"password\">\r\n        <div class=\"psdTitle\">登录密码修改</div>\r\n        <div class=\"original-psd\">\r\n          <mt-field type=\"password\" placeholder=\"请输入原始密码\" v-model=\"originalPsd\" autocomplete=\"off\"></mt-field>\r\n        </div>\r\n        <div class=\"psdError\" :class=\"{ psdErrorActive:oriActive }\">*密码不正确</div>\r\n        <div class=\"new-psd1\">\r\n          <mt-field type=\"password\" placeholder=\"请输入新密码\" v-model=\"newPsd1\"></mt-field>\r\n        </div>\r\n        <div class=\"psdError\"></div>\r\n        <div class=\"new-psd2\">\r\n          <mt-field type=\"password\" placeholder=\"请确认新密码\" v-model=\"newPsd2\"></mt-field>\r\n        </div>\r\n        <div class=\"psdError\" :class=\" { psdErrorActive:newActive } \">*新密码不一致请再次输入</div>\r\n        <mt-button size=\"large\" class=\"psdBtn\" @click=\"psdVerify\">确定修改</mt-button>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconsole.log(\"USER_MYSYSTEM_PERSONAL_VUE\");\r\n// import pic1 from \"./../../../assets/pic1.png\";\r\n// import root from \"@/config/root.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      disableClear: false,\r\n      nickname: this.GLOBAL.userInfo.nickname,\r\n      signature: this.GLOBAL.userInfo.signature,\r\n\r\n      originalPsd: \"\",\r\n      newPsd1: \"\",\r\n      newPsd2: \"\",\r\n      // originalPsdGet: this.$store.state.songInfo.user.password,\r\n      oriActive: false,\r\n      newActive: false,\r\n      // purimg: [ this.pic2 = 'http://192.168.0.133'  + this.$store.state.songInfo.user.head],\r\n      imgData: {\r\n        accept: \"image/gif, image/jpeg, image/jpg, image/png\"\r\n      }\r\n    };\r\n  },\r\n  watch: {\r\n    originalPsd: function() {\r\n      //    console.log(this.originalPsd);\r\n    }\r\n  },\r\n  methods: {\r\n    psdVerify: function() {\r\n      if (this.originalPsd != this.GLOBAL.userInfo.password) {\r\n        this.oriActive = true;\r\n        this.newActive = false;\r\n      } else if (this.newPsd1 != this.newPsd2) {\r\n        this.newActive = true;\r\n        this.oriActive = false;\r\n      } else {\r\n        this.oriActive = false;\r\n        this.newActive = false;\r\n        let data = {\r\n          type: \"changeLoginPassword\",\r\n          signature: \"\",\r\n          originalPsd: this.originalPsd,\r\n          newPsd1: this.newPsd1,\r\n          newPsd2: this.newPsd2,\r\n          send_id: this.GLOBAL.userInfo.id,\r\n          con_id: this.GLOBAL.connectionId\r\n        };\r\n        this.newPsd1 = \"\";\r\n        this.newPsd2 = \"\";\r\n        this.originalPsd = \"\";\r\n        let that = this;\r\n        this.senddata({\r\n          data: data,\r\n          callback: function(response) {\r\n            console.log(\"(******************************)\");\r\n            console.log(response);\r\n            console.log(\"(******************************)\");\r\n            if (response.status) {\r\n              that.$messagebox.alert(\"修改成功！\");\r\n              that.GLOBAL.userInfo.password = data.newPsd1;\r\n              localStorage.setItem(\r\n                \"bc_userInfo\",\r\n                JSON.stringify(that.GLOBAL.userInfo)\r\n              );\r\n            } else {\r\n              if (response.msg) {\r\n                that.$messagebox.alert(response.msg);\r\n              } else {\r\n                that.$messagebox.alert(\"修改失败，请检查网络是否正常！\");\r\n              }\r\n            }\r\n          },\r\n          handType: \"user\"\r\n        });\r\n      }\r\n    },\r\n    //上传图片\r\n    previewPic: function(event) {\r\n      // let render = new FileReader();\r\n      let img1 = event.target.files[0];\r\n      let type = img1.type; //文件的类型，判断是否是图片\r\n      let size = img1.size; //文件的大小，判断图片的大小\r\n      if (this.imgData.accept.indexOf(type) == -1) {\r\n        this.$messagebox.alert(\"请选择gif|jpeg|jpg|png格式的图片！\");\r\n        return false;\r\n      }\r\n      if (size > 3145728) {\r\n        this.$messagebox.alert(\"请选择3M以内的图片！\");\r\n        return false;\r\n      }\r\n      var url = this.GLOBAL.Host + \"/bcweb/index.php/Home/Uploads/uploadHead\";\r\n      let form = new FormData();\r\n      form.append(\"file\", img1, img1.name);\r\n      form.append(\"uid\", this.GLOBAL.userInfo.id);\r\n      let that = this;\r\n      this.$axios\r\n        .post(url, form, {\r\n          headers: { \"Content-Type\": \"multipart/form-data\" }\r\n        })\r\n        .then(response => {\r\n          console.log(\"++++++++++++++++++++++++++++++\");\r\n          console.log(\"++++++++++++++++++++++++++++++\");\r\n          console.log(response.data);\r\n          console.log(\"++++++++++++++++++++++++++++++\");\r\n          console.log(\"++++++++++++++++++++++++++++++\");\r\n          // response = JSON.parse(response.data);\r\n          console.log(response);\r\n          if (response.data.status) {\r\n            (that.GLOBAL.userInfo.head = response.data.head),\r\n              that.$forceUpdate();\r\n            localStorage.setItem(\r\n              \"bc_userInfo\",\r\n              JSON.stringify(that.GLOBAL.userInfo)\r\n            );\r\n          } else {\r\n            if (response.data.msg != \"null\") {\r\n              that.$messagebox.alert(response.data.msg);\r\n            } else {\r\n              that.$messagebox.alert(\"图像不能为空！\");\r\n            }\r\n          }\r\n        });\r\n    },\r\n    //修改昵称\r\n    changeUsername: function() {\r\n      if (!this.nickname) {\r\n        this.$messagebox.alert(\"请输入昵称！\");\r\n      } else {\r\n        if (this.nickname == this.GLOBAL.userInfo.nickname) {\r\n          this.$messagebox.alert(\"新昵称不可以和旧昵称相同！\");\r\n        } else {\r\n          let data = {\r\n            type: \"changeNickName\",\r\n            newname: this.nickname,\r\n            signature: \"\",\r\n            send_id: this.GLOBAL.userInfo.id,\r\n            con_id: this.GLOBAL.connectionId\r\n          };\r\n          let that = this;\r\n          this.senddata({\r\n            data: data,\r\n            callback: function(response) {\r\n              console.log(response);\r\n              if (response.status) {\r\n                that.GLOBAL.userInfo.nickname = that.nickname;\r\n                localStorage.setItem(\r\n                  \"bc_userInfo\",\r\n                  JSON.stringify(that.GLOBAL.userInfo)\r\n                );\r\n                that.$messagebox.alert(\"修改成功！\");\r\n              } else {\r\n                that.nickname = that.GLOBAL.userInfo.nickname;\r\n                if (response.msg) {\r\n                  that.$messagebox.alert(response.msg);\r\n                } else {\r\n                  that.$messagebox.alert(\"修改失败，请检查网络是否正常！\");\r\n                }\r\n              }\r\n            },\r\n            handType: \"user\"\r\n          });\r\n        }\r\n      }\r\n    },\r\n    //修改个性签名\r\n    changeSign: function() {\r\n      if (!this.signature) {\r\n        this.$messagebox.alert(\"请输入签名...\");\r\n      } else {\r\n        if (this.signature == this.GLOBAL.userInfo.signature) {\r\n          this.$messagebox.alert(\"签名还没有发生变化哦！\");\r\n        } else {\r\n          let data = {\r\n            type: \"changeSignature\",\r\n            newsignature: this.signature,\r\n            signatureStr: \"\",\r\n            send_id: this.GLOBAL.userInfo.id,\r\n            con_id: this.GLOBAL.connectionId\r\n          };\r\n          let that = this;\r\n          this.senddata({\r\n            data: data,\r\n            callback: function(response) {\r\n              console.log(\"<+++++++++++++++++++>\");\r\n              console.log(response);\r\n              console.log(\"<+++++++++++++++++++>\");\r\n              if (response.status) {\r\n                that.$messagebox.alert(\"修改成功！\");\r\n                that.GLOBAL.userInfo.signature = that.signature;\r\n                localStorage.setItem(\r\n                  \"bc_userInfo\",\r\n                  JSON.stringify(that.GLOBAL.userInfo)\r\n                );\r\n              } else {\r\n                that.signature = that.GLOBAL.userInfo.signature;\r\n                if (response.msg) {\r\n                  that.$messagebox.alert(response.msg);\r\n                } else {\r\n                  that.$messagebox.alert(\"修改失败，请检查网络是否正常！\");\r\n                }\r\n              }\r\n            },\r\n            handType: \"user\"\r\n          });\r\n        }\r\n      }\r\n    }\r\n  },\r\n  beforeCreate: function() {\r\n    // document.getElementsByTagName(\"body\")[0].className = \"bgc-fff\";\r\n  },\r\n  mounted: function() {\r\n    this.checkLogin();\r\n    this.onmessage();\r\n    this.$parent.tabbarShow = false;\r\n    this.$parent.tabbarWhic = false;\r\n  },\r\n  beforeDestroy: function() {\r\n    // document.body.removeAttribute(\"class\", \"bgc-fff\");\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.username-box {\r\n  background: white;\r\n  border-bottom: 0.3vw solid #e7e7e7;\r\n  padding: 0px 3.5vw;\r\n  display: flex;\r\n  font-size: 4.5vw;\r\n  height: 14vw;\r\n  line-height: 14vw;\r\n}\r\n.username-box span {\r\n  display: inline-block;\r\n  width: 13.5vw;\r\n  /* background: red; */\r\n  font-weight: bold;\r\n}\r\n.username-box input {\r\n  width: 65.4vw;\r\n  height: 100%;\r\n  border: 0px;\r\n  outline: none;\r\n  text-align: right;\r\n  box-sizing: border-box;\r\n  padding: 2vw;\r\n  font-size: 4.5vw;\r\n  color: #666;\r\n  /* background: #57d6dd; */\r\n}\r\n.username-box i {\r\n  margin-left: 0.5vw;\r\n}\r\n.purikura {\r\n  position: relative;\r\n}\r\n.purimg {\r\n  width: 18vw;\r\n  height: 18vw;\r\n  border-radius: 18vw;\r\n  overflow: hidden;\r\n  margin: 5vw auto;\r\n  border: 0.5vw solid #e7e7e7;\r\n  display: flex;\r\n  align-items: center;\r\n  align-content: center;\r\n  justify-content: center;\r\n}\r\n.purimg img {\r\n  /* width: auto; */\r\n  /* height: 100%; */\r\n  /* margin: auto; */\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n}\r\n.original-psd,\r\n.new-psd1,\r\n.new-psd2 {\r\n  position: relative;\r\n}\r\n.uppurBtn {\r\n  background-color: #fff;\r\n  width: 7vw;\r\n  height: 7vw;\r\n  line-height: 7vw;\r\n  border-radius: 7vw;\r\n  overflow: hidden;\r\n  position: absolute;\r\n  top: 11vw;\r\n  left: 55%;\r\n  border: 0.5vw solid #e7e7e7;\r\n}\r\n.icon-weibiaoti1:before {\r\n  font-size: 5vw;\r\n}\r\n.uppurBtn .iconfont {\r\n  color: #57d6dd;\r\n  font-size: 20px;\r\n}\r\n.userName .iconfont,\r\n.perSign .iconfont {\r\n  color: #a3a3a3;\r\n  font-size: 20px;\r\n}\r\n.psdTitle {\r\n  text-align: left;\r\n  padding: 0 2vw;\r\n  font-size: 4.5vw;\r\n  line-height: 10vw;\r\n  font-weight: bold;\r\n}\r\n.userName,\r\n.perSign {\r\n  border-top: 0.3vw solid #e7e7e7;\r\n}\r\n.psdBtn {\r\n  background-color: #57d6dd;\r\n  color: #fff;\r\n  font-size: 4.5vw;\r\n  margin: 5vw auto;\r\n}\r\n.psdError {\r\n  height: 4vw;\r\n  color: #e84120;\r\n  font-size: 3vw;\r\n  text-align: left;\r\n  padding: 0 20px;\r\n  opacity: 0;\r\n}\r\n.psdErrorActive {\r\n  opacity: 1;\r\n}\r\n.icon-xiugaiziliao:before {\r\n  font-size: 5vw;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/user/mySystem/personal.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('mt-header',{staticStyle:{\"background\":\"#57D6DD\"},attrs:{\"title\":\"个人资料\"}},[_c('router-link',{attrs:{\"slot\":\"left\",\"to\":\"/mySystem\"},slot:\"left\"},[_c('mt-button',{attrs:{\"icon\":\"back\"}},[_vm._v(\"返回\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"pageContent personal\"},[_c('div',{staticClass:\"purikura\"},[_c('div',{staticClass:\"purimg\"},[_c('img',{attrs:{\"id\":\"purpic\",\"src\":this.GLOBAL.Host + this.GLOBAL.userInfo.head}})]),_vm._v(\" \"),_c('div',{staticClass:\"uppurBtn\"},[_c('input',{staticStyle:{\"opacity\":\"0\",\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"id\":\"uppic\",\"type\":\"file\"},on:{\"change\":_vm.previewPic}}),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-weibiaoti1\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"userId\"}),_vm._v(\" \"),_c('div',{staticClass:\"userName\"},[_c('div',{staticClass:\"username-box\"},[_c('span',[_vm._v(\"昵称：\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nickname),expression:\"nickname\"}],attrs:{\"type\":\"text\",\"placeholder\":\"昵称\"},domProps:{\"value\":(_vm.nickname)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nickname=$event.target.value}}}),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-xiugaiziliao\",on:{\"click\":_vm.changeUsername}})])]),_vm._v(\" \"),_c('div',{staticClass:\"userName\"},[_c('div',{staticClass:\"username-box\"},[_c('span',[_vm._v(\"签名：\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.signature),expression:\"signature\"}],attrs:{\"type\":\"text\",\"placeholder\":\"写点什么吧...\"},domProps:{\"value\":(_vm.signature)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.signature=$event.target.value}}}),_vm._v(\" \"),_c('i',{staticClass:\"iconfont icon-xiugaiziliao\",on:{\"click\":_vm.changeSign}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"interval\"}),_vm._v(\" \"),_c('div',{staticClass:\"pageContent\"},[_c('div',{staticClass:\"password\"},[_c('div',{staticClass:\"psdTitle\"},[_vm._v(\"登录密码修改\")]),_vm._v(\" \"),_c('div',{staticClass:\"original-psd\"},[_c('mt-field',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入原始密码\",\"autocomplete\":\"off\"},model:{value:(_vm.originalPsd),callback:function ($$v) {_vm.originalPsd=$$v},expression:\"originalPsd\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"psdError\",class:{ psdErrorActive:_vm.oriActive }},[_vm._v(\"*密码不正确\")]),_vm._v(\" \"),_c('div',{staticClass:\"new-psd1\"},[_c('mt-field',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入新密码\"},model:{value:(_vm.newPsd1),callback:function ($$v) {_vm.newPsd1=$$v},expression:\"newPsd1\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"psdError\"}),_vm._v(\" \"),_c('div',{staticClass:\"new-psd2\"},[_c('mt-field',{attrs:{\"type\":\"password\",\"placeholder\":\"请确认新密码\"},model:{value:(_vm.newPsd2),callback:function ($$v) {_vm.newPsd2=$$v},expression:\"newPsd2\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"psdError\",class:{ psdErrorActive:_vm.newActive }},[_vm._v(\"*新密码不一致请再次输入\")]),_vm._v(\" \"),_c('mt-button',{staticClass:\"psdBtn\",attrs:{\"size\":\"large\"},on:{\"click\":_vm.psdVerify}},[_vm._v(\"确定修改\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-350e2062\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/mySystem/personal.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-350e2062\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./personal.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./personal.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./personal.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-350e2062\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./personal.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-350e2062\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/mySystem/personal.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}