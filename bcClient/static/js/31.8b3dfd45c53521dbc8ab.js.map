{"version":3,"sources":["webpack:///src/components/user/redbag/redbag.vue","webpack:///./src/components/user/redbag/redbag.vue?9061","webpack:///./src/components/user/redbag/redbag.vue"],"names":["console","log","redbag","data","title","title1","this","GLOBAL","userInfo","nickname","deg","year","yearList","list","totalSendSum","totalSendNum","redSendYear","redSendPage","redSendList","totalReciveSum","totalReciveNum","redReciveYear","redRecivePage","redReciveList","choseYearStatus","flag","redStatus","watchStatus","created","dateobj","Date","getFullYear","i","$parent","tabbarShow","friendInfo","mounted","that","checkLogin","$route","query","getReciveRedList","getSendRedList","onmessage","watch","methods","gotoRedDetail","red_id","$router","push","path","cancel","changeToSendRed","changeToRecivedRed","changeRedStatus","choseYear","type","page","send_id","id","con_id","connectionId","senddata","callback","Response","concat","totalNum","totalSum","callbackFlag","handType","moreList","redbag_redbag","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","background","attrs","slot","to","icon","_v","on","click","_s","class","src","Host","head","alt","Object","keys","length","_l","item","index","key","$event","money","send_time","recived_num","recive_num","border","color","_e","width","margin","height","line-height","directives","name","rawName","value","expression","_m","checked","domProps","_q","change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/31.8b3dfd45c53521dbc8ab.js","sourcesContent":["<template>\r\n  <div>\r\n    <section class=\"top-box\">\r\n      <mt-header v-bind:title=\"title\" style=\"background:#B34B39 !important;\">\r\n        <router-link to=\"/user\" slot=\"left\">\r\n          <mt-button icon=\"back\">返回</mt-button>\r\n        </router-link>\r\n        <div class=\"ellipsis-box\" slot=\"right\" @click=\"changeRedStatus\">...</div>\r\n      </mt-header>\r\n      <div class=\"user-information-box\">\r\n        <span class=\"year-box\" @click=\"choseYear\">{{year}}\r\n          <mt-button icon=\"back\" :class=\"(deg ? 'upbtn':'downbtn')\"></mt-button>\r\n        </span>\r\n        <div>\r\n          <div class=\"user-head-box\"><img :src=\"this.GLOBAL.Host + this.GLOBAL.userInfo.head\" alt=\"\"></div>\r\n        </div>\r\n        <p class=\"user-tips-box\">{{title1}}</p>\r\n      </div>\r\n      <div v-if=\"flag\" class=\"red-total-money\">\r\n        <span>{{totalSendSum}}</span>\r\n        <span class=\"yung-box\">元</span>\r\n      </div>\r\n      <div v-else class=\"red-total-money\">\r\n        <span>{{totalReciveSum}}</span>\r\n        <span class=\"yung-box\">元</span>\r\n      </div>\r\n      <div v-if=\"flag\" class=\"red-total-number\">发出红包\r\n        <span class=\"total-number\">{{totalSendNum}}</span>个\r\n      </div>\r\n      <div v-else class=\"red-total-number\">收到红包\r\n        <span class=\"total-number\">{{totalReciveNum}}</span>个\r\n      </div>\r\n    </section>\r\n    <section class=\"red-list-box\">\r\n      <ul v-if=\"list && Object.keys(list).length\">\r\n        <li class=\"one-red-info-box\" v-for=\"(item,index) in list\" v-bind:key=\"index\" @click=\"gotoRedDetail(item.id)\">\r\n          <!-- 发出的红包列表 -->\r\n          <div class=\"red-detail-up\">\r\n            <span class=\"red-detail-child red-type\">{{item.type}}</span>\r\n            <span class=\"red-detail-child red-money\">\r\n              <span>{{item.money}}</span>\r\n              <img src=\"static/64-金币.png\" alt=\"\">\r\n            </span>\r\n          </div>\r\n          <div class=\"red-detail-down\">\r\n            <span class=\"red-detail-child red-date\">{{item.send_time}}</span>\r\n            <span class=\"red-detail-child red-status\">已领取{{item.recived_num}}/{{item.recive_num}}个</span>\r\n          </div>\r\n        </li>\r\n\r\n        <li v-if=\"(flag && redSendList.length < totalSendNum) || (!flag && redReciveList.length < totalReciveNum)\">\r\n          <button style=\"border:1px solid #999;color:#999;\" @click=\"moreList\">查看更多</button>\r\n        </li>\r\n      </ul>\r\n      <ul v-else>\r\n        <li v-if=\"flag\" style=\"width:90vw;margin:auto;height:20vw;line-height:20vw;\">哎呀，今年忘发红包了！</li>\r\n        <li v-else style=\"width:90vw;margin:auto;height:20vw;line-height:20vw;\">真遗憾，今年一个红包都没抢到！</li>\r\n      </ul>\r\n    </section>\r\n    <section>\r\n      <div v-show=\"choseYearStatus || redStatus\" class=\"bgbox\" @click=\"cancel\"></div>\r\n      <div v-show=\"choseYearStatus\" class=\"show-year-box\">\r\n        <ul>\r\n          <li><span>年份</span></li>\r\n          <li class=\"year-options\" v-for=\"(item, index) in yearList\" :key=\"index\">\r\n            <span>{{item}}年</span>\r\n            <input v-if=\"item == year\" type=\"radio\" v-model=\"year\" :value=\"item\" checked>\r\n            <input v-else type=\"radio\" v-model=\"year\" :value=\"item\">\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <ul v-show=\"redStatus\" class=\"red-status-box\">\r\n        <li @click=\"changeToRecivedRed\">收到的红包</li>\r\n        <li @click=\"changeToSendRed\">发出的红包</li>\r\n      </ul>\r\n    </section>\r\n  </div>\r\n</template>\r\n<script>\r\nconsole.log(\"USER_REDBAG_REDBAG_VUE\");\r\nexport default {\r\n  data() {\r\n    return {\r\n      title: \"发出的红包\",\r\n      title1: this.GLOBAL.userInfo.nickname + \"发出的红包\",\r\n      deg: true, //年份收起或者展开\r\n      year: \"\", //展示的年份\r\n      yearList: [], //年份列表\r\n      list: \"\", //展示的红包列表\r\n\r\n      // 发出的红包信息\r\n      totalSendSum: 0,\r\n      totalSendNum: 0,\r\n      redSendYear: \"\",\r\n      redSendPage: 0,\r\n      redSendList: \"\",\r\n\r\n      // 收到的红包信息\r\n      totalReciveSum: 0, //收到的红包总金额\r\n      totalReciveNum: 0, //收到的红包总数量\r\n      redReciveYear: \"\", //当前展示的红包获取年份\r\n      redRecivePage: 0, //页数\r\n      redReciveList: \"\", //收到的红包列表\r\n\r\n      choseYearStatus: false, //展示或者隐藏年份列表\r\n      flag: true, //标志发红包列表，false标志收到的红包列表\r\n      redStatus: false, //显示红包选项，点击右上角的三点触发,\r\n      watchStatus: false\r\n    };\r\n  },\r\n  created: function() {\r\n    let dateobj = new Date();\r\n    this.year = dateobj.getFullYear();\r\n    this.redSendYear = this.year;\r\n    this.redReciveYear = this.year;\r\n    for (let i = 0; i < 5; i++) {\r\n      this.yearList[i] = this.year - i;\r\n    }\r\n    this.$parent.tabbarShow = false;\r\n    this.GLOBAL.friendInfo = {};\r\n  },\r\n  mounted: function() {\r\n    // document.getElementsByTagName(\"body\")[0].className = \"bgc-fff\";\r\n    let that = this;\r\n    this.checkLogin(function() {\r\n      console.log(\"hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh\");\r\n      if (that.$route.query.flag) {\r\n        that.flag = false;\r\n        that.title = \"收到的红包\";\r\n        that.title1 = that.GLOBAL.userInfo.nickname + \"收到的红包\";\r\n        // 获取接收的红包列表\r\n        console.log(\"::::::::::::::::::::::::::::::::::::::::::::::::::::::\");\r\n        that.getReciveRedList();\r\n      } else {\r\n        console.log(\"''''''''''''''''''''''''''''''''''''''''''''''''''''''\");\r\n        // 获取发送的红包列表\r\n        that.getSendRedList();\r\n      }\r\n      that.watchStatus = true;\r\n    });\r\n    this.onmessage();\r\n  },\r\n  watch: {\r\n    // 检测年份是否发生变化\r\n    year: function() {\r\n      if (this.flag) {\r\n        this.deg = true; //收起年份标志\r\n        this.choseYearStatus = false; //隐藏年份列表\r\n        // 初始化数据\r\n        this.redSendYear = this.year;\r\n        this.redSendList = \"\";\r\n        this.redSendPage = 0;\r\n        this.totalSendSum = 0;\r\n        this.totalSendNum = 0;\r\n        if (this.watchStatus) {\r\n          // 获取发送当前年份发送的红包列表\r\n          this.getSendRedList();\r\n        }\r\n      } else {\r\n        this.deg = true;\r\n        this.choseYearStatus = false;\r\n        // 初始化数据\r\n        this.redReciveYear = this.year;\r\n        this.redReciveList = \"\";\r\n        this.redRecivePage = 0;\r\n        this.totalReciveSum = 0;\r\n        this.totalReciveNum = 0;\r\n        if (this.watchStatus) {\r\n          // 获取当前年份收到的红包列表\r\n          this.getReciveRedList();\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    gotoRedDetail(red_id) {\r\n      this.$router.push({\r\n        path: \"/redbagdetail\",\r\n        query: { red_id: red_id, flag: this.flag }\r\n      });\r\n    },\r\n    // 取消\r\n    cancel() {\r\n      // 隐藏透明背景\r\n      this.choseYearStatus = false;\r\n      // 隐藏红包选项\r\n      this.redStatus = false;\r\n      // 收起年份列表\r\n      this.deg = true;\r\n    },\r\n    /**\r\n     * 选择展示发送的红包信息\r\n     */\r\n    changeToSendRed() {\r\n      this.redStatus = false;\r\n      this.flag = true;\r\n      this.title = \"发出的红包\";\r\n      this.title1 = this.GLOBAL.userInfo.nickname + \"发出的红包\";\r\n      this.year = this.redSendYear;\r\n      if (!this.redSendList) {\r\n        this.getSendRedList();\r\n      } else {\r\n        this.list = this.redSendList;\r\n      }\r\n    },\r\n    /**\r\n     * 选择展示收到的红包信息\r\n     */\r\n    changeToRecivedRed() {\r\n      this.redStatus = false;\r\n      this.flag = false;\r\n      this.title = \"收到的红包\";\r\n      this.title1 = this.GLOBAL.userInfo.nickname + \"收到的红包\";\r\n      this.year = this.redReciveYear;\r\n      if (!this.redReciveList) {\r\n        this.getReciveRedList();\r\n      } else {\r\n        this.list = this.redReciveList;\r\n      }\r\n    },\r\n    /**\r\n     * 显示红包选项\r\n     */\r\n    changeRedStatus() {\r\n      this.redStatus = true;\r\n    },\r\n    /**\r\n     * 选择年份\r\n     */\r\n    choseYear() {\r\n      this.choseYearStatus = true;\r\n      this.deg = false;\r\n    },\r\n    /**\r\n     *获取发送的红包列表\r\n     */\r\n    getSendRedList() {\r\n      let data = {\r\n        type: \"getSendRedList\",\r\n        year: this.year,\r\n        page: this.redSendPage,\r\n        send_id: this.GLOBAL.userInfo.id,\r\n        con_id: this.GLOBAL.connectionId\r\n      };\r\n      let that = this;\r\n      this.senddata({\r\n        data: data,\r\n        callback: Response => {\r\n          // console.log(\"<<<<<<<<<<<redlist>>>>>>>>>>>>>\");\r\n          // console.log(Response);\r\n          // console.log(\"<<<<<<<<<<<redlist>>>>>>>>>>>>>\");\r\n          if (that.redSendList) {\r\n            // 向列表追加数据\r\n            that.redSendList = that.redSendList.concat(Response.list);\r\n          } else {\r\n            that.redSendList = Response.list;\r\n          }\r\n          that.list = that.redSendList;\r\n          if (Response.totalNum) {\r\n            that.totalSendNum = Response.totalNum;\r\n          }\r\n          if (Response.totalSum) {\r\n            that.totalSendSum = Response.totalSum;\r\n          }\r\n        },\r\n        callbackFlag: \"responeGetSendRedList\",\r\n        handType: \"user\"\r\n      });\r\n    },\r\n    /**\r\n     * 获取更多，相当于翻页\r\n     */\r\n    moreList() {\r\n      // console.log(this.flag);\r\n      if (this.flag) {\r\n        this.redSendPage++;\r\n        this.getSendRedList();\r\n      } else {\r\n        this.redRecivePage++;\r\n        this.getReciveRedList();\r\n      }\r\n    },\r\n    /**\r\n     * 获取接收到的红包列表\r\n     */\r\n    getReciveRedList() {\r\n      // this.$messagebox.alert(\"查询收到的红包裂帛\");\r\n      // return false;\r\n      let data = {\r\n        type: \"getReciveRedList\",\r\n        year: this.year,\r\n        page: this.redRecivePage,\r\n        send_id: this.GLOBAL.userInfo.id,\r\n        con_id: this.GLOBAL.connectionId\r\n      };\r\n      let that = this;\r\n      this.senddata({\r\n        data: data,\r\n        callback: Response => {\r\n          // console.log(\"<<<<<<<<<<<redlist>>>>>>>>>>>>>\");\r\n          // console.log(Response);\r\n          // console.log(\"<<<<<<<<<<<redlist>>>>>>>>>>>>>\");\r\n          if (that.redReciveList) {\r\n            // 向收到的红包列表追加信息\r\n            that.redReciveList = that.redReciveList.concat(Response.list);\r\n          } else {\r\n            that.redReciveList = Response.list;\r\n          }\r\n          that.list = that.redReciveList;\r\n          if (Response.totalNum) {\r\n            that.totalReciveNum = Response.totalNum;\r\n          }\r\n          if (Response.totalSum) {\r\n            that.totalReciveSum = Response.totalSum;\r\n          }\r\n        },\r\n        callbackFlag: \"responeGetReciveRedList\",\r\n        handType: \"user\"\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.year-box {\r\n  color: #f0c69e;\r\n  font-size: 5vw;\r\n  position: absolute;\r\n  top: -2vw;\r\n  right: 0px;\r\n}\r\n.upbtn {\r\n  -ms-transform: rotate(90deg);\r\n  -webkit-transform: rotate(90deg);\r\n  -moz-transform: rotate(90deg);\r\n  -o-transform: rotate(90deg);\r\n  transform: rotate(90deg);\r\n  background: #b34b39;\r\n  border: 0px;\r\n  box-shadow: 0px 0px 0px 0px;\r\n  color: #f0c69e;\r\n  font-size: 7vw;\r\n}\r\n.downbtn {\r\n  -ms-transform: rotate(-90deg);\r\n  -webkit-transform: rotate(-90deg);\r\n  -moz-transform: rotate(-90deg);\r\n  -o-transform: rotate(-90deg);\r\n  transform: rotate(-90deg);\r\n  background: #b34b39;\r\n  border: 0px;\r\n  box-shadow: 0px 0px 0px 0px;\r\n  color: #f0c69e;\r\n  font-size: 7vw;\r\n}\r\n.top-box {\r\n  height: 70vw;\r\n  background: #b34b39;\r\n}\r\n.ellipsis-box {\r\n  width: 1vw;\r\n  text-align: center;\r\n  height: 55vw;\r\n  font-size: 7vw;\r\n  margin-top: -4vw;\r\n  transform: rotate(90deg);\r\n  -ms-transform: rotate(90deg);\r\n  -moz-transform: rotate(90deg);\r\n  -webkit-transform: rotate(90deg);\r\n  -o-transform: rotate(90deg);\r\n}\r\n.user-information-box {\r\n  position: relative;\r\n  /* padding-top: 6vw; */\r\n}\r\n.user-head-box {\r\n  width: 20vw;\r\n  height: 20vw;\r\n  border-radius: 20vw;\r\n  overflow: hidden;\r\n  border: 1px solid white;\r\n  margin: 5vw auto 0px;\r\n  justify-content: center;\r\n  justify-items: center;\r\n  align-content: center;\r\n  align-items: center;\r\n  display: flex;\r\n}\r\n.user-head-box img {\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n}\r\n.user-tips-box {\r\n  color: #ffffff;\r\n  font-size: 4.5vw;\r\n  height: 10vw;\r\n  line-height: 9vw;\r\n  /* text-shadow: 0px 0px 1px white; */\r\n  /* font-weight:  */\r\n  letter-spacing: 1px;\r\n}\r\n.red-total-money {\r\n  font-size: 8vw;\r\n  color: #fed291;\r\n}\r\n.red-total-money .yung-box {\r\n  font-size: 5vw;\r\n}\r\n.red-total-number {\r\n  font-size: 4.5vw;\r\n  color: #ffffff;\r\n}\r\n.red-total-number .total-number {\r\n  color: #fed291;\r\n}\r\n.one-red-info-box {\r\n  height: 18vw;\r\n  background: white;\r\n  box-sizing: border-box;\r\n  padding: 0px 4vw;\r\n  margin-top: 0.5vw;\r\n  border-bottom: 0.5vw solid #e7e7e7;\r\n}\r\n.red-detail-up,\r\n.red-detail-down {\r\n  display: flex;\r\n  height: 9vw;\r\n}\r\n.red-detail-up {\r\n  font-size: 4vw;\r\n  line-height: 13vw;\r\n}\r\n.red-detail-down {\r\n  font-size: 4vw;\r\n  color: #999;\r\n  line-height: 8vw;\r\n}\r\n.red-detail-up .red-detail-child,\r\n.red-detail-down .red-detail-child {\r\n  display: flex;\r\n  width: 50vw;\r\n  /* align-items: center; */\r\n  /* align-content: center; */\r\n}\r\n.red-money,\r\n.red-status {\r\n  align-content: center;\r\n  justify-content: flex-end;\r\n}\r\n.red-money img {\r\n  width: 6vw;\r\n  height: 6vw;\r\n  margin-top: 3vw;\r\n}\r\n.bgbox {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  position: fixed;\r\n  top: 0px;\r\n  left: 0px;\r\n  z-index: 1001;\r\n  background: black;\r\n  opacity: 0.3;\r\n}\r\n.show-year-box {\r\n  width: 80vw;\r\n  height: 76vw;\r\n  background: white;\r\n  position: fixed;\r\n  top: 32vw;\r\n  left: 10vw;\r\n  z-index: 1002;\r\n  overflow: auto;\r\n  border-radius: 1vw;\r\n}\r\n.show-year-box li {\r\n  height: 12vw;\r\n  margin-top: 0px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0px 8vw;\r\n  box-sizing: border-box;\r\n  border-bottom: 0.5vw solid #f1f1f1;\r\n}\r\n.to-send-btn {\r\n  color: red;\r\n  text-decoration: underline;\r\n}\r\n.red-status-box {\r\n  position: fixed;\r\n  bottom: 0px;\r\n  left: 0px;\r\n  z-index: 1003;\r\n  height: 30vw;\r\n  width: 100vw;\r\n  background: #ffffff;\r\n  box-shadow: 1vw 1vw 1vw 1vw #000000;\r\n  text-align: left;\r\n}\r\n.red-status-box li {\r\n  height: 12vw;\r\n  line-height: 12vw;\r\n  box-sizing: border-box;\r\n  padding: 0px 2vw;\r\n  font-size: 4.5vw;\r\n  font-weight: 600;\r\n}\r\n.red-status-box li:nth-child(1) {\r\n  border-bottom: 0.5vw solid #efefef;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/user/redbag/redbag.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticClass:\"top-box\"},[_c('mt-header',{staticStyle:{\"background\":\"#B34B39 !important\"},attrs:{\"title\":_vm.title}},[_c('router-link',{attrs:{\"slot\":\"left\",\"to\":\"/user\"},slot:\"left\"},[_c('mt-button',{attrs:{\"icon\":\"back\"}},[_vm._v(\"返回\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"ellipsis-box\",attrs:{\"slot\":\"right\"},on:{\"click\":_vm.changeRedStatus},slot:\"right\"},[_vm._v(\"...\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"user-information-box\"},[_c('span',{staticClass:\"year-box\",on:{\"click\":_vm.choseYear}},[_vm._v(_vm._s(_vm.year)+\"\\n        \"),_c('mt-button',{class:(_vm.deg ? 'upbtn':'downbtn'),attrs:{\"icon\":\"back\"}})],1),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"user-head-box\"},[_c('img',{attrs:{\"src\":this.GLOBAL.Host + this.GLOBAL.userInfo.head,\"alt\":\"\"}})])]),_vm._v(\" \"),_c('p',{staticClass:\"user-tips-box\"},[_vm._v(_vm._s(_vm.title1))])]),_vm._v(\" \"),(_vm.flag)?_c('div',{staticClass:\"red-total-money\"},[_c('span',[_vm._v(_vm._s(_vm.totalSendSum))]),_vm._v(\" \"),_c('span',{staticClass:\"yung-box\"},[_vm._v(\"元\")])]):_c('div',{staticClass:\"red-total-money\"},[_c('span',[_vm._v(_vm._s(_vm.totalReciveSum))]),_vm._v(\" \"),_c('span',{staticClass:\"yung-box\"},[_vm._v(\"元\")])]),_vm._v(\" \"),(_vm.flag)?_c('div',{staticClass:\"red-total-number\"},[_vm._v(\"发出红包\\n      \"),_c('span',{staticClass:\"total-number\"},[_vm._v(_vm._s(_vm.totalSendNum))]),_vm._v(\"个\\n    \")]):_c('div',{staticClass:\"red-total-number\"},[_vm._v(\"收到红包\\n      \"),_c('span',{staticClass:\"total-number\"},[_vm._v(_vm._s(_vm.totalReciveNum))]),_vm._v(\"个\\n    \")])],1),_vm._v(\" \"),_c('section',{staticClass:\"red-list-box\"},[(_vm.list && Object.keys(_vm.list).length)?_c('ul',[_vm._l((_vm.list),function(item,index){return _c('li',{key:index,staticClass:\"one-red-info-box\",on:{\"click\":function($event){_vm.gotoRedDetail(item.id)}}},[_c('div',{staticClass:\"red-detail-up\"},[_c('span',{staticClass:\"red-detail-child red-type\"},[_vm._v(_vm._s(item.type))]),_vm._v(\" \"),_c('span',{staticClass:\"red-detail-child red-money\"},[_c('span',[_vm._v(_vm._s(item.money))]),_vm._v(\" \"),_c('img',{attrs:{\"src\":\"static/64-金币.png\",\"alt\":\"\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"red-detail-down\"},[_c('span',{staticClass:\"red-detail-child red-date\"},[_vm._v(_vm._s(item.send_time))]),_vm._v(\" \"),_c('span',{staticClass:\"red-detail-child red-status\"},[_vm._v(\"已领取\"+_vm._s(item.recived_num)+\"/\"+_vm._s(item.recive_num)+\"个\")])])])}),_vm._v(\" \"),((_vm.flag && _vm.redSendList.length < _vm.totalSendNum) || (!_vm.flag && _vm.redReciveList.length < _vm.totalReciveNum))?_c('li',[_c('button',{staticStyle:{\"border\":\"1px solid #999\",\"color\":\"#999\"},on:{\"click\":_vm.moreList}},[_vm._v(\"查看更多\")])]):_vm._e()],2):_c('ul',[(_vm.flag)?_c('li',{staticStyle:{\"width\":\"90vw\",\"margin\":\"auto\",\"height\":\"20vw\",\"line-height\":\"20vw\"}},[_vm._v(\"哎呀，今年忘发红包了！\")]):_c('li',{staticStyle:{\"width\":\"90vw\",\"margin\":\"auto\",\"height\":\"20vw\",\"line-height\":\"20vw\"}},[_vm._v(\"真遗憾，今年一个红包都没抢到！\")])])]),_vm._v(\" \"),_c('section',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.choseYearStatus || _vm.redStatus),expression:\"choseYearStatus || redStatus\"}],staticClass:\"bgbox\",on:{\"click\":_vm.cancel}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.choseYearStatus),expression:\"choseYearStatus\"}],staticClass:\"show-year-box\"},[_c('ul',[_vm._m(0),_vm._v(\" \"),_vm._l((_vm.yearList),function(item,index){return _c('li',{key:index,staticClass:\"year-options\"},[_c('span',[_vm._v(_vm._s(item)+\"年\")]),_vm._v(\" \"),(item == _vm.year)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.year),expression:\"year\"}],attrs:{\"type\":\"radio\",\"checked\":\"\"},domProps:{\"value\":item,\"checked\":_vm._q(_vm.year,item)},on:{\"change\":function($event){_vm.year=item}}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.year),expression:\"year\"}],attrs:{\"type\":\"radio\"},domProps:{\"value\":item,\"checked\":_vm._q(_vm.year,item)},on:{\"change\":function($event){_vm.year=item}}})])})],2)]),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.redStatus),expression:\"redStatus\"}],staticClass:\"red-status-box\"},[_c('li',{on:{\"click\":_vm.changeToRecivedRed}},[_vm._v(\"收到的红包\")]),_vm._v(\" \"),_c('li',{on:{\"click\":_vm.changeToSendRed}},[_vm._v(\"发出的红包\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('span',[_vm._v(\"年份\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6419fc7a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/redbag/redbag.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6419fc7a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./redbag.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./redbag.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./redbag.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6419fc7a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./redbag.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6419fc7a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/redbag/redbag.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}